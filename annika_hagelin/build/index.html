<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      .ng-cloak {
        display: none !important;
      }
    </style>
  </head>
  <body data-ng-app="TreeApp">
    <main class="ng-cloak" data-ng-controller="SpeciessController as speciessCtrl" data-ng-init="speciessCtrl.read()" >
    <h1>{{speciessCtrl.resource.toUpperCase()}}</h1>

    <ul>
      <li data-ng-repeat="species in speciessCtrl.speciess">
        <big>{{species.genus}} {{species.species}}</big> <small>commonly</small> <big>{{species.cmnName}}</big> <small>[id:{{species._id}}]</small>

          <button type="submit" data-ng-click="speciessCtrl.update.displayed = species._id">update</button>

          <button type="submit" data-ng-click="speciessCtrl.delete(species)">delete</button>

        <form data-ng-show="speciessCtrl.update.displayed === species._id" data-ng-submit="speciessCtrl.update(species); speciessCtrl.update.displayed = null">
          genus:<input type="text" data-ng-model="species.genus"></br>
          species:<input type="text" data-ng-model="species.species"></br>
          cmnName:<input type="text" data-ng-model="species.cmnName"></br>
          <button type="submit">ok</button>
          <button type="reset" data-ng-click="speciessCtrl.reset(species); speciessCtrl.update.displayed = null">cancel</button>
        </form>
      </li>
    </ul>

    <form data-ng-submit="speciessCtrl.create(species)">
      genus:<input type="text" data-ng-model="species.genus"></br>
      species:<input type="text" data-ng-model="species.species"></br>
      cmnName:<input type="text" data-ng-model="species.cmnName"></br>
      <button type="submit">create species</button>
    </form>

    </main>

    <main class="ng-cloak" data-ng-controller="TreesController as treesCtrl" data-ng-init="treesCtrl.read()">
    <h1>{{treesCtrl.resource.toUpperCase()}}</h1>

    <ul>
      <li data-ng-repeat="tree in treesCtrl.trees">
        <big>{{tree.species.genus}} {{tree.species.species}}</big> <small>at</small> latitude:<big>{{tree.lat}}</big> <small>and</small> longitude:<big>{{tree.lng}}</big> <small>[id:{{tree._id}}]</small>

          <button type="submit" data-ng-click="treesCtrl.update.displayed = tree._id">update</button>

          <button type="submit" data-ng-click="treesCtrl.delete(tree)">delete</button>

        <form data-ng-show="treesCtrl.update.displayed === tree._id" data-ng-submit="treesCtrl.update(tree); treesCtrl.update.displayed = null">
          species:<input type="text" data-ng-model="tree.species"></br>
          lat:<input type="text" data-ng-model="tree.lat"></br>
          lng:<input type="text" data-ng-model="tree.lng"></br>
          <button type="submit">ok</button>
          <button type="reset" data-ng-click="treesCtrl.reset(tree); treesCtrl.update.displayed = null">cancel</button>
        </form>
      </li>
    </ul>

    <form data-ng-submit="treesCtrl.create(tree)">
      species:<input type="text" data-ng-model="tree.species"></br>
      lat:<input type="text" data-ng-model="tree.lat"></br>
      lng:<input type="text" data-ng-model="tree.lng"></br>
      <button type="submit">create tree</button>
    </form>

    </main>


    <script src="./bundle.js"></script>

  </body>
</html>
